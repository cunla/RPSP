<div class="text-center">
    <h1>Quarterly Report Monthly Average Usage</h1>

    <form class="form-inline" role="form">
        <div class="form-group">
            <select class="form-control" ng-model="quarter">
                <option value="1">Q1</option>
                <option value="2">Q2</option>
                <option value="3">Q3</option>
                <option value="4">Q4</option>
            </select>
            <input type="number" class="form-control" ng-model="year">
            <button class="btn btn-primary" ng-click="requestReport(year,quarter)"><i class="fa fa-search"></i></button>
            <a class="btn btn-xs btn-primary" href="app/rest/quarterReportCsv/{{year}}/{{quarter}}"><i
                    class="fa fa-file-excel-o"></i></a>
        </div>
    </form>
    <br/>

    <div align="center">
        <a href="" ng-click="scrollTo('errorsReport')" ng-show="reportErrors.length>0">Report generation encounter errors</a>
        <table class="table table-striped table-bordered table-hover" style="max-width:800px" border="1" ts-wrapper>
            <thead>
            <tr>
                <th ts-criteria="year+'/'+month">Month</th>
                <th ts-criteria="country" ts-default>Country</th>
                <th ts-criteria="stateLocal" width="20%">Local VMs</th>
                <th ts-criteria="stateRemote" width="20%">Remote VMs</th>
                <th ts-criteria="stateSource" width="20%">Source VMs</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="item in reportData" ts-repeat>
                <td align="center">{{item.month}}/{{item.year}}</td>
                <td align="center">{{item.country}}</td>
                <td align="center">{{item.stateLocal}}</td>
                <td align="center">{{item.stateRemote}}</td>
                <td align="center">{{item.stateSource}}</td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="bs-callout bs-callout-warning" align="left" ng-show="reportErrors.length>0">
        <!--<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>-->
        <!--<a name="errors"></a>-->
        <h4 id="errorsReport">Errors in report generation</h4>

        <div ng-repeat="error in reportErrors">{{error}}</div>
    </div>
</div>

