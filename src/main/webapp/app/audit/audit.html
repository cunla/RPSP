<div class="modal-content modal-primary audit-modal">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">Ã—</span></button>
        <h4 class="modal-title"><b>{{'AUDIT.TITLE' | translate}}</b></h4>
    </div>
    <div class="modal-body">
        <div >
            <div class="clearfix form-group">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#" ng-click="getAuditLog(audit.currentPage,searchFilter)"><i class="fa fa-refresh fa-lg white"></i></a></li>
                    <li><a href="#" ng-click="getAuditLogAsCsv(audit.currentPage,searchFilter)"><i class="fa fa-floppy-o fa-lg white"></i></a></li>
                </ul>
                <div class="navbar-form navbar-left">
                    <div class="input-group">
                  <span class="input-group-addon" ng-click="getAuditLog(1,searchFilter)">
                        <i class="fa fa-search"></i>
                  </span>
                        <input type="text" class="form-control" ng-model="searchFilter"
                               placeholder="Search for...">
                <span class="input-group-addon" ng-click="clearSearchFilter()">
                   <i class="fa fa-close"></i>
                  </span>
                    </div>
                </div>
            </div>
            <div class="clearfix form-group">
                <div class="scroll-table">
                    <table class="table table-striped table-bordered table-hover" style="min-width:600px"
                           border="1" ts-wrapper>
                        <thead>
                        <tr>
                            <th ts-criteria="date" ts-default="descending">{{'AUDIT.DATETIME' | translate}}</th>
                            <th ts-criteria="account+user">{{'AUDIT.ACCOUNT_AND_USER' | translate}}</th>
                            <th ts-criteria="action">{{'AUDIT.ACTION' | translate}}</th>
                            <th ts-criteria="mainEntity">{{'AUDIT.ENTITY' | translate}}</th>
                            <th ts-criteria="status">{{'AUDIT.STATUS' | translate}}</th>
                            <th ts-criteria="details">{{'AUDIT.DETAILS' | translate}}</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="item in audit.log | filter: searchFilter" ts-repeat>
                            <td align="center">{{item.date | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
                            <td align="center">{{item.account}}/{{item.user}}</td>
                            <td align="center">{{item.action}}</td>
                            <td align="center">{{item.subject}}</td>
                            <td align="center">{{item.status}}</td>
                            <td align="center" title="{{item.details}}">{{item.objects}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
</div>

